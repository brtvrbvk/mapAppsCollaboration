define([
    "doh",
    "../SymbolConverter",
    "esri/graphic"

], function (
    doh,
    SymbolConverter,
    Graphic
    ) {
    doh.register("kml/tests/SymbolConverter", [
        {
            name: "Build esri symbol from attributes",
            runTest: function () {

                var geom = {
                    "geometry": {
                        "paths": [
                            [
                                [
                                    3.559525498409283,
                                    50.742343743206675
                                ],
                                [
                                    3.558834207959198,
                                    50.74206842350845
                                ],
                                [
                                    3.558446453875255,
                                    50.741946905595434
                                ],
                                [
                                    3.557900093004202,
                                    50.741895504838936
                                ],
                                [
                                    3.55769950395785,
                                    50.741806887629224
                                ],
                                [
                                    3.557597170153382,
                                    50.74163649353194
                                ],
                                [
                                    3.557505393480762,
                                    50.741283280732155
                                ],
                                [
                                    3.557439676776588,
                                    50.7411978424007
                                ],
                                [
                                    3.557276162808682,
                                    50.741115796021646
                                ],
                                [
                                    3.556979423386736,
                                    50.74086426789121
                                ],
                                [
                                    3.556691654531666,
                                    50.74066449218775
                                ],
                                [
                                    3.55641455205721,
                                    50.74064838602598
                                ],
                                [
                                    3.556221788289523,
                                    50.74052329558192
                                ],
                                [
                                    3.555869853522583,
                                    50.74050189105782
                                ],
                                [
                                    3.555684174912449,
                                    50.740395956069115
                                ],
                                [
                                    3.555243227414029,
                                    50.74023458411311
                                ],
                                [
                                    3.554990346569816,
                                    50.74025179236109
                                ],
                                [
                                    3.554653136346938,
                                    50.74021082236239
                                ],
                                [
                                    3.554213798991258,
                                    50.740000997944385
                                ],
                                [
                                    3.554004365404818,
                                    50.73998942996865
                                ],
                                [
                                    3.55328241093236,
                                    50.740122347858666
                                ],
                                [
                                    3.550790861551566,
                                    50.739838512683164
                                ],
                                [
                                    3.550484353682202,
                                    50.73980139543604
                                ],
                                [
                                    3.550229895003912,
                                    50.739763237364656
                                ],
                                [
                                    3.549875542043695,
                                    50.73987496414547
                                ],
                                [
                                    3.549681247785332,
                                    50.739890181742226
                                ],
                                [
                                    3.549178576650322,
                                    50.739842700375924
                                ],
                                [
                                    3.548835731259066,
                                    50.73974408272907
                                ],
                                [
                                    3.548517930994138,
                                    50.73948493818962
                                ],
                                [
                                    3.548019268721025,
                                    50.739276921380636
                                ],
                                [
                                    3.547931121535244,
                                    50.739171514212245
                                ],
                                [
                                    3.547813055984217,
                                    50.73881993614727
                                ],
                                [
                                    3.547610915435285,
                                    50.73831956881837
                                ],
                                [
                                    3.547566311324907,
                                    50.738160529451434
                                ],
                                [
                                    3.547756920265783,
                                    50.737981076591005
                                ],
                                [
                                    3.547735758280841,
                                    50.73790001834879
                                ],
                                [
                                    3.547627498727626,
                                    50.737747976196
                                ],
                                [
                                    3.54751033715875,
                                    50.737503578452895
                                ],
                                [
                                    3.547251894597797,
                                    50.73705928901451
                                ],
                                [
                                    3.547183722552949,
                                    50.73688757790912
                                ],
                                [
                                    3.547035594024952,
                                    50.736781892127595
                                ],
                                [
                                    3.546897851755549,
                                    50.73667753985257
                                ],
                                [
                                    3.54690591045754,
                                    50.7364813606881
                                ],
                                [
                                    3.546636386586899,
                                    50.736032214321554
                                ],
                                [
                                    3.546309286346902,
                                    50.73544486058712
                                ],
                                [
                                    3.546122955834882,
                                    50.73495345287412
                                ],
                                [
                                    3.545834915467794,
                                    50.734704065219084
                                ],
                                [
                                    3.545502927038927,
                                    50.73434732665318
                                ],
                                [
                                    3.545284144519116,
                                    50.734048413485
                                ],
                                [
                                    3.545118565746378,
                                    50.733605613527494
                                ],
                                [
                                    3.544609568998076,
                                    50.73299463142483
                                ]
                            ]
                        ],
                        "spatialReference": {"wkid": 4326}
                    },
                    "attributes": {
                        "stroke": "0000ff",
                        "stroke-opacity": 1,
                        "fill-opacity": 0,
                        "UIDN": "342847",
                        "OIDN": "39120",
                        "VHAS": "4028865",
                        "VHAG": "5188",
                        "REGCODE": "OS385",
                        "BEHEER": "40000",
                        "CATC": "2",
                        "LBLCATC": "Geklasseerd, tweede categorie",
                        "BEKNR": "6",
                        "BEKNAAM": "Boven-Scheldebekken",
                        "STRMGEB": "Schelde",
                        "KWALDOEL": "100",
                        "LBLKWAL": "Basiskwaliteit",
                        "GEO": "0",
                        "LBLGEO": "10 tot 2.5 m",
                        "VHAZONENR": "442",
                        "WTRLICHC": "L111_1022",
                        "LENGTE": "1720.98"
                    }
                };
                var graphic = new Graphic(geom);
                var converter = new SymbolConverter();
                converter.toEsriSymbol(graphic);

                doh.assertEqual("solid", graphic.symbol.style);
                doh.assertEqual(2, graphic.symbol.width);
                doh.assertEqual([
                    255,
                    0,
                    0,
                    255
                ], graphic.symbol.color.toJson());
            }
        }
    ]);
});