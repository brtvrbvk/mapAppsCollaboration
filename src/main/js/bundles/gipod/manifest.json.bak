{
    "Bundle-SymbolicName": "gipod",
    "Bundle-Version": "5.0.4",

    "Bundle-Name": "${bundleName}",
    "Bundle-Description": "${bundleDescription}",
    "Bundle-Vendor": "con terra GmbH",

    "Bundle-Category": ["gipod"],
    "Config-Bundle-Location": "/config",

    "Bundle-StartLevel": 8,

    "Require-Bundle": [
        {
            "name": "base",
            "version": "[4.0,)"
        }
//        {
//            "name": "geolocator",
//            "version": "[4.0.0,)"
//        },
//        {
//            "name": "toextent",
//            "version": "[4.0.0,)"
//        },
//        {
//            "name": "jasperprinting",
//            "version": "[4.0.0,)",
//            "policy": "optional"
//        },
//        {
//            "name": "startupmessagebox",
//            "version": "[4.0.0,)"
//        }
    ],

    "Components": [
        {
            "name": "GipodParameterResolver",
            "immediate": true,
            "provides": [
                "agiv.api.Persistable",
                "ct.api.parametermanager.Parametrizable",
                "ct.framework.api.ConfigurationPlugin",
                "gipod.GipodParameterResolver"
            ],
            "properties": {
                "+CM-Target-Pids": ["gipod-GipodParameterController"]
            },
            "references": [
                {
                    "name": "gipodController",
                    "providing": "gipod.GipodParameterController"
                },
                {
                    "name": "eventService",
                    "providing": "ct.framework.api.EventService",
                    "cardinality": "0..1"
                },
                {
                    "name": "scaleChangeHandler",
                    "providing": "agiv.gipod.GipodScaleChangeHandler",
                    "cardinality": "0..1"
                },
                {
                    "name": "mapState",
                    "providing": "ct.mapping.map.MapState",
                    "cardinality": "0..1"
                },
                {
                    "name": "_gipodControllerComponent",
                    "providing": "gipod.GipodParameterControllerComponent",
                    "cardinality": "0..1"
                },
                {
                    "name": "ruleContextState",
                    "providing": "toolrules.ToolRuleContext",
                    "cardinality": "0..1"
                },
                {
                    "name": "startupMessageBox",
                    "providing": "agiv.startupmessagebox.StartupMessageBox",
                    "cardinality": "0..1"
                }
            ]
        },
        {
            "name": "GipodParameterController",
            "provides": [
                "dijit.Widget",
                "gipod.GipodParameterController"
            ],
            "propertiesConstructor": true,
            "instanceFactory": true,
            "properties": {
                "widgetRole": "gipodParameterControls",
                "queryOptions": {
                    "period": {
                        "today": true,
                        "tomorrow": false,
                        "nextmonth": false,
                        "specifieddate": false
                    },
                    "workassignment": true,
                    "manifestation": true
                },
                "nodes": [
                    {
                        "id": "manifestations",
                        "type": "manifestation"
                    },
                    {
                        "id": "workassignments",
                        "type": "workassignment"
                    }
                ],
                "gipodBaseUrl": "http://gipod.api.agiv.be/ws/v1",
                "provinces": {
                    "Limburg": {
                        "xmax": 660633.9485431879,
                        "ymax": 6681374.854235723,
                        "xmin": 545825.5320588085,
                        "ymin": 6562744.586337083,
                        "wkid": 3857
                    },
                    "Antwerpen": {
                        "xmax": 600783.7553958874,
                        "ymax": 6721274.983000561,
                        "xmin": 449897.0615608915,
                        "ymin": 6605396.448120189,
                        "wkid": 3857
                    },
                    "Vlaams Brabant": {
                        "xmax": 580069.3207306091,
                        "ymax": 6638722.992452569,
                        "xmin": 429182.6268956135,
                        "ymin": 6555406.631621696,
                        "wkid": 3857
                    },
                    "Vlaams-Brabant": {
                        "xmax": 580069.3207306091,
                        "ymax": 6638722.992452569,
                        "xmin": 429182.6268956135,
                        "ymin": 6555406.631621696,
                        "wkid": 3857
                    },
                    "Oost-Vlaanderen": {
                        "xmax": 491402.36791984155,
                        "ymax": 6688559.93489449,
                        "xmin": 361918.0420047034,
                        "ymin": 6565496.31935531,
                        "wkid": 3857
                    },
                    "Oost Vlaanderen": {
                        "xmax": 491402.36791984155,
                        "ymax": 6688559.93489449,
                        "xmin": 361918.0420047034,
                        "ymin": 6565496.31935531,
                        "wkid": 3857
                    },
                    "West Vlaanderen": {
                        "xmax": 402888.28916557354,
                        "ymax": 6691923.164139039,
                        "xmin": 273403.9632504354,
                        "ymin": 6558005.490583359,
                        "wkid": 3857
                    },
                    "West-Vlaanderen": {
                        "xmax": 402888.28916557354,
                        "ymax": 6691923.164139039,
                        "xmin": 273403.9632504354,
                        "ymin": 6558005.490583359,
                        "wkid": 3857
                    }
                },
                "geolocatorStoreParameters": {
                    "timeout": 15000,
                    "minQueryLength": 2,
                    "wkid": 4326,
                    "searchType": "locationUrl",
                    "response": {
                        "resultArrayName": "LocationResult"
                    }
                },
                "pointZoomScale": 2500,
                "provincePageSize": 5,
                "ownerPageSize": 10,
                "citiesPageSize": 10
            },
            "references": [
                {
                    "name": "mapModel",
                    "providing": "ct.mapping.map.MapModel"
                },
                {
                    "name": "_dataformService",
                    "providing": "dataform.DataFormService"
                },
                {
                    "name": "mapState",
                    "providing": "ct.mapping.map.MapState"
                },
                {
                    "name": "eventService",
                    "providing": "ct.framework.api.EventService"
                },
                {
                    "name": "gipodFilterTool",
                    "providing": ["ct.tools.Tool"],
                    "filter": "(id=gipodParameterControlsTool)"
                },
                {
                    "name": "geolocatorUrlProvider",
                    "providing": "agiv.geolocator.GeolocatorUrlProvider"
                },
                {
                    "name": "_ct",
                    "providing": "ct.api.coordinatetransformer.CoordinateTransformer"
                },
                {
                    "name": "toExtentHandler",
                    "providing": "toextent.ToExtentHandler"
                },
                {
                    "name": "esri.Map",
                    "providing": "esri.Map"
                }
            ]
        },

        {
            "name": "GipodEventBroadcaster",
            "propertiesConstructor": true,
            "references": [
                {
                    "name": "_eventService",
                    "providing": "ct.framework.api.EventService"
                },
                {
                    "name": "stores",
                    //comes from GipodStoreLayerRegistration
                    "providing": "gipod.GipodDataModel",
                    "cardinality": "0..n",
                    "policy": "dynamic"
                }
            ]
        },

        {
            "name": "GipodStoreLayerRegistration",
            "propertiesConstructor": true,
            "properties": {
                "showClusterLabels": true,
                "clusterScaleThreshold": 18056,
                "clusterLookupTable": {
                    "point-manifestation-cluster": {
                        "text": "TEXT",
                        "type": "esriTS",
                        "color": [
                            110,
                            110,
                            110,
                            255
                        ],
                        "yoffset": -2,
                        "font": {
                            "size": "10pt",
                            "align": "middle",
                            "style": "normal",
                            "variant": "normal",
                            "weight": "bold",
                            "family": "sans-serif"
                        }
                    },
                    "point-manifestation-severe-cluster": {
                        "text": "TEXT",
                        "type": "esriTS",
                        "color": [
                            110,
                            110,
                            110,
                            255
                        ],
                        "yoffset": -2,
                        "font": {
                            "size": "10pt",
                            "align": "middle",
                            "style": "normal",
                            "variant": "normal",
                            "weight": "bold",
                            "family": "sans-serif"
                        }
                    },
                    "point-workassignment-severe-cluster": {
                        "text": "TEXT",
                        "type": "esriTS",
                        "color": [
                            110,
                            110,
                            110,
                            255
                        ],
                        "yoffset": -6,
                        "font": {
                            "size": "10pt",
                            "align": "middle",
                            "style": "normal",
                            "variant": "normal",
                            "weight": "bold",
                            "family": "sans-serif"
                        }
                    },
                    "point-workassignment-cluster": {
                        "text": "TEXT",
                        "type": "esriTS",
                        "color": [
                            110,
                            110,
                            110,
                            255
                        ],
                        "yoffset": -6,
                        "font": {
                            "size": "10pt",
                            "align": "middle",
                            "style": "normal",
                            "variant": "normal",
                            "weight": "bold",
                            "family": "sans-serif"
                        }
                    }
                },
                "lookupTable": {
                    "point-manifestation": {
                        "color": [
                            0,
                            200,
                            0,
                            255
                        ],
                        "size": 9,
                        "type": "esriSMS",
                        "style": "esriSMSCircle",
                        "outline": {
                            "color": [
                                0,
                                0,
                                0,
                                255
                            ],
                            "width": 1,
                            "type": "esriSLS",
                            "style": "esriSLSSolid"
                        }
                    },
                    "point-manifestation-eventtype": {
                        "angle": 0,
                        "xoffset": 0,
                        "yoffset": 0,
                        "type": "esriPMS",
                        "url": "http://gipod.api.agiv.be/ws/v1/icon/manifestation?size=32",
                        "contentType": "image/png",
                        "width": 24.5,
                        "height": 24.5
                    },
                    "point-manifestation-cluster": {
                        "angle": 0,
                        "xoffset": 0,
                        "yoffset": 0,
                        "type": "esriPMS",
                        "url": "http://gipod.api.agiv.be/Icons/Manifestation/eventcluster_32.png",
                        "contentType": "image/png",
                        "width": 24.5,
                        "height": 24.5
                    },
                    "point-manifestation-severe": {
                        "angle": 0,
                        "xoffset": 0,
                        "yoffset": 0,
                        "type": "esriPMS",
                        "url": "http://gipod.api.agiv.be/Icons/Manifestation/eventcluster_32.png",
                        "contentType": "image/png",
                        "width": 24.5,
                        "height": 24.5
                    },
                    "point-manifestation-severe-cluster": {
                        "angle": 0,
                        "xoffset": 0,
                        "yoffset": 0,
                        "type": "esriPMS",
                        "url": "http://gipod.api.agiv.be/Icons/Manifestation/eventcluster_32.png",
                        "contentType": "image/png",
                        "width": 24.5,
                        "height": 24.5
                    },
                    "point-workassignment": {
                        "angle": 0,
                        "xoffset": 0,
                        "yoffset": 0,
                        "type": "esriPMS",
                        "url": "http://gipod.api.agiv.be/ws/v1/icon/workassignment?important=false&size=32",
                        "contentType": "image/png",
                        "width": 24.5,
                        "height": 24.5
                    },
                    "point-workassignment-cluster": {
                        "angle": 0,
                        "xoffset": 0,
                        "yoffset": 0,
                        "type": "esriPMS",
                        "url": "http://gipod.api.agiv.be/Icons/WorkAssignment/nonimportant_cluster_32.png",
                        "contentType": "image/png",
                        "width": 24.5,
                        "height": 24.5
                    },
                    "point-workassignment-severe": {
                        "angle": 0,
                        "xoffset": 0,
                        "yoffset": 0,
                        "type": "esriPMS",
                        "url": "http://gipod.api.agiv.be/ws/v1/icon/workassignment?important=true&size=32",
                        "contentType": "image/png",
                        "width": 24.5,
                        "height": 24.5
                    },
                    "point-workassignment-severe-cluster": {
                        "angle": 0,
                        "xoffset": 0,
                        "yoffset": 0,
                        "type": "esriPMS",
                        "url": "http://gipod.api.agiv.be/Icons/WorkAssignment/important_cluster_32.png",
                        "contentType": "image/png",
                        "width": 24.5,
                        "height": 24.5
                    }
                }
            }
        },

        /*
         * POI Hover, Info and FeatureInfo Widget
         */

        {
            "name": "ContentRegistrationHoverInfo",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "GipodHoverInfoWidget": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "type": "GipodHoverInfoWidget"
                            }
                        },
                        "type": "GipodHoverInfoWidget",
                        "windowSize": {
                        },
                        "window": {
                            "windowName": "agivGipodHover",
                            "baseClass": "ctGipodHover"
                        },
                        "noInfoWindow": true
                    }
                ]
            }
        },

        {
            "name": "ContentRegistrationInfo",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "GipodClickInfoWidget": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "infotype": "GIPOD_TOUCH"
                            }
                        },
                        "type": "GipodClickInfoWidget",
                        "info": {
                            "showDetailsButton": false
                        },
                        "windowSize": {
                            "w": 375,
                            "h": 125
                        },
                        "window": {
                            "windowName": "agivGenericIdentify hik",
                            "tools": []
                        },
                        "detail": {
                            "title": "asd"
                        }
                    }
                ]
            }
        },

        {
            "name": "ContentRegistrationDetail",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "GipodDetailInfoWidget": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "infotype": "GIPOD"
                            }
                        },
                        "type": "GipodDetailInfoWidget",
                        "info": {
                            "showDetailsButton": false
                        },
                        "windowSize": {
                            "t": 50,
                            "b": 50,
                            "l": 0,
                            "r": 0
                        },
                        "window": {
                            "windowName": "agivGenericIdentify hik",
                            "tools": []
                        },
                        "detail": {
                            "title": ""
                        },
                        "noInfoWindow": true
                    }
                ]
            }
        },

        {
            "name": "ContentRegistrationIdentificatie",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "IdentificatieWidget": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "infotype": "GIPOD_IDENTIFICATIE_TAB"
                            }
                        },
                        "type": "IdentificatieWidget"
                    }
                ]
            }
        },

        {
            "name": "ContentRegistrationGipodIdentificatieGrid",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "GipodGrid": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "infotype": "GIPOD_IDENTIFICATIE_GRID"
                            }
                        },
                        "type": "GipodGrid"
                    }
                ]
            }
        },

        {
            "name": "ContentRegistrationDiversionsTab",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "DiversionsTabWidget": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "infotype": "GIPOD_DIVERSIONS_TAB"
                            }
                        },
                        "type": "DiversionsTabWidget"
                    }
                ]
            }
        },

        {
            "name": "ContentRegistrationDiversions",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "DiversionsWidget": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "infotype": "GIPOD_DIVERSIONS_WIDGET"
                            }
                        },
                        "type": "DiversionsWidget"
                    }
                ]
            }
        },

        {
            "name": "ContentRegistrationGipodDiversionsGrid",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "GipodGrid": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "infotype": "GIPOD_DIVERSIONS_GRID"
                            }
                        },
                        "type": "GipodGrid"
                    }
                ]
            }
        },

        {
            "name": "ContentRegistrationContactTab",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "GipodContactTab": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "infotype": "GIPOD_CONTACT_TAB"
                            }
                        },
                        "type": "GipodContactTab"
                    }
                ]
            }
        },

        {
            "name": "ContentRegistrationCalendarTab",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "GipodCalendarTab": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "infotype": "GIPOD_CALENDAR_TAB"
                            }
                        },
                        "type": "GipodCalendarTab"
                    }
                ]
            }
        },

        {
            "name": "ContentRegistrationGipodCalendarGrid",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "GipodGrid": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "infotype": "GIPOD_CALENDAR_GRID"
                            }
                        },
                        "type": "GipodGrid"
                    }
                ]
            }
        },

        {
            "name": "ContentRegistrationGipodGrid",
            "impl": "ct/Stateful",
            "provides": ["ct.contentviewer.ContentRule"],
            "propertiesConstructor": true,
            "properties": {
                "contentWidgetClasses": {
                    "GipodGrid": "gipod.ContentWidgetFactoryGipod"
                },
                "contentRules": [
                    {
                        "matches": {
                            "context": {
                                "infotype": "GIPOD_GRID"
                            }
                        },
                        "type": "GipodGrid"
                    }
                ]
            }
        },

        /*
         *
         * CONTENT WIDGET FACTORY
         *
         */

        {
            "name": "ContentWidgetFactoryGipodFeatureInfo",
            "provides": "gipod.ContentWidgetFactoryGipod",
            "impl": "contentviewer/_ContentWidgetFactory",
            "propertiesConstructor": true,
            "properties": {
                "typeMapping": {
                    "GipodHoverInfoWidget": {
                        "info": "gipod.GipodHoverInfoWidget"
                    },
                    "GipodDetailInfoWidget": {
                        "info": "gipod.featureinfointegration.FeatureInfoWidget"
                    },
                    "GipodClickInfoWidget": {
                        "info": "gipod.featureinfointegration.InfoWidget"
//                        "detail": "gipod.featureinfointegration.FeatureInfoWidget"
                    },
//                    "GipodFeatureInfoWidget": {
//                        "info": "gipod.featureinfointegration.FeatureInfoWidget"
//                    },
                    "IdentificatieWidget": {
                        "info": "gipod.featureinfointegration.IdentificatieWidget"
                    },
                    "GipodGrid": {
                        "info": "genericidentify.GridContentWidget"
                    },
                    "GipodContactTab": {
                        "info": "gipod.featureinfointegration.ContactWidget"
                    },
                    "GipodCalendarTab": {
                        "info": "gipod.featureinfointegration.CalendarWidget"
                    },
                    "DiversionsWidget": {
                        "info": "gipod.featureinfointegration.DiversionsWidget"
                    },
                    "DiversionsTabWidget": {
                        "info": "gipod.featureinfointegration.DiversionsTabWidget"
                    }
                },
                "GridContentWidget": {
                    "i18n": {
                        "key": "Kenmerk",
                        "value": "Waarde",
                        "detailView": "${ui.content.grid.detailView}",
                        "print": "${ui.content.grid.print}"
                    }
                },
                "GipodHoverInfoWidget": {
                    "i18n": {
                        "manifestation": "${ui.hover.manifestation}",
                        "workassignment": "${ui.hover.workassignment}"
                    }
                },
                "InfoWidget": {
                    "i18n": {
                        "title": "${ui.title}",
                        "detail": "${ui.detail}",
                        "workEventType": "${ui.workEventType}"
                    }
                },
                "FeatureInfoWidget": {
                    "tabs": [
                        "GIPOD_IDENTIFICATIE_TAB",
                        "GIPOD_DIVERSIONS_TAB",
                        "GIPOD_CONTACT_TAB",
                        "GIPOD_CALENDAR_TAB"
                    ],
                    "i18n": {
                        "title": "${ui.identifyTitle}",
                        "workEventType": "${ui.workEventType}"
                    }
                },
                "DiversionsTabWidget": {
                    "i18n": {
                        "title": "${ui.diversions.title}",
                        "manifestation": "${ui.manifestation}",
                        "workassignment": "${ui.workassignment}",
                        "info": "${ui.diversions.info}"
                    },
                    "metadata": {
                        "fields": [
                            {
                                "name": "description",
                                "title": "Beschrijving"
                            },
                            {
                                "name": "comment",
                                "title": "Opmerking"
                            },
                            {
                                "name": "activePeriod",
                                "title": "Periode"
                            },
                            {
                                "name": "recurrencePattern",
                                "title": "Patroon"
                            },
                            {
                                "name": "latestUpdate",
                                "title": "Laatste wijziging"
                            },
                            {
                                "name": "streets",
                                "title": "Stratenlijst"
                            },
                            {
                                "name": "diversionTypes",
                                "title": "Omleidingtypes"
                            }
                        ]
                    }
                },
                "ContactWidget": {
                    "metadata": {
                        "fields": [
                            {
                                "name": "contact.organisation",
                                "title": "Bedrijf"
                            },
                            {
                                "name": "contact.street",
                                "title": "Straat"
                            },
                            {
                                "name": "contact.extraAddressInfo",
                                "title": "Extra adresinfo"
                            },
                            {
                                "name": "contact.number",
                                "title": "Nr"
                            },
                            {
                                "name": "contact.postalCode",
                                "title": "Postcode"
                            },
                            {
                                "name": "contact.city",
                                "title": "Gemeente"
                            },
                            {
                                "name": "contact.country",
                                "title": "Land"
                            },
                            {
                                "name": "contact.lastName",
                                "title": "Naam"
                            },
                            {
                                "name": "contact.firstName",
                                "title": "Voornaam"
                            },
                            {
                                "name": "contact.phoneNumber1",
                                "title": "Telefoon 1"
                            },
                            {
                                "name": "contact.phoneNumber2",
                                "title": "Telefoon 2"
                            },
                            {
                                "name": "contact.email",
                                "title": "Email"
                            }
                        ]
                    },
                    "i18n": {
                        "title": "${ui.contact.title}",
                        "manifestation": "${ui.manifestation}",
                        "workassignment": "${ui.workassignment}",
                        "info": "${ui.contact.info}",
                        "name": "${ui.contact.name}",
                        "address": "${ui.contact.address}",
                        "phone": "${ui.contact.phone}",
                        "noData": "${ui.contact.noData}"
                    }
                },
                "CalendarWidget": {
                    "i18n": {
                        "title": "${ui.calendar.title}",
                        "key": "${ui.calendar.startDate}",
                        "value": "${ui.calendar.endDate}",
                        "exceedAllowed": "${ui.calendar.exceedAllowed}"
                    },
                    "maxAllowed": 100
                },
                "DiversionsWidget": {
                    "i18n": {
                        "title": "${ui.diversions.widget}",
                        "manifestation": "${ui.manifestation}",
                        "workassignment": "${ui.workassignment}",
                        "info": "${ui.diversions.info}",
                        "scale": "${ui.scale}"
                    },
                    "metadata": {
                        "fields": [
                            {
                                "name": "description",
                                "title": "Beschrijving"
                            },
                            {
                                "name": "comment",
                                "title": "Opmerking"
                            },
                            {
                                "name": "activePeriod",
                                "title": "Periode"
                            },
                            {
                                "name": "recurrencePattern",
                                "title": "Patroon"
                            },
                            {
                                "name": "latestUpdate",
                                "title": "Laatste wijziging"
                            },
                            {
                                "name": "streets",
                                "title": "Stratenlijst"
                            },
                            {
                                "name": "diversionTypes",
                                "title": "Omleidingtypes"
                            }
                        ]
                    }
                },
                "IdentificatieWidget": {
                    "i18n": {
                        "title": "${ui.identificatie.title}",
                        "manifestation": "${ui.manifestation}",
                        "workassignment": "${ui.workassignment}",
                        "info": "${ui.identificatie.info}",
                        "scale": "${ui.scale}"
                    },
                    "metadata": {
                        "fields": [
                            {
                                "name": "activePeriod",
                                "title": "Periode"
                            },
                            {
                                "name": "state",
                                "title": "Status"
                            },
                            {
                                "name": "comment",
                                "title": "Opmerking"
                            },
                            {
                                "name": "latestUpdate",
                                "title": "Laatste wijziging"
                            },
                            {
                                "name": "hindrance.description",
                                "title": "Hinder omschrijving"
                            },
                            {
                                "name": "hindrance.locations",
                                "title": "Hinder locaties"
                            },
                            {
                                "name": "hindrance.direction",
                                "title": "Hinder richting"
                            },
                            {
                                "name": "hindrance.effects",
                                "title": "Hinder gevolgen"
                            },
                            {
                                "name": "hindrance.importantString",
                                "title": "Hinder ernstig?"
                            },
                            {
                                "name": "owner",
                                "title": "Beheerder"
                            },
                            {
                                "name": "contractor",
                                "title": "Aannemer"
                            },
                            {
                                "name": "url",
                                "title": "URL"
                            },
                            {
                                "name": "gipodId",
                                "title": "GIPOD ID"
                            }
                        ]
                    }
                },
//                "ui": {
//                    "Grid": {
//                        "key": "Kenmerk",
//                        "value": "Waarde",
//                        "detailView": "${ui.content.grid.detailView}",
//                        "print": "${ui.content.grid.print}"
//                    }
//                },
                "serviceDefinition": {
                    "service": "grijs",
                    "layers": ["*"],
                    "enabled": true
                }
            },
            "references": [
                {
                    "name": "esriLayerFactory",
                    "providing": "ct.mapping.map.EsriLayerFactory"
                },
                {
                    "name": "mrr",
                    "providing": "ct.mapping.mapcontent.MappingResourceRegistry"
                },
                {
                    "name": "mapState",
                    "providing": "ct.mapping.map.MapState"
                },
                {
                    "name": "contentviewer",
                    "providing": "ct.contentviewer.ContentViewer"
                },
                {
                    "name": "storeResolver",
                    "providing": "contentviewer.StoreResolver",
                    "cardinality": "0..1"
                },
                {
                    "name": "windowManager",
                    "providing": "ct.framework.api.WindowManager"
                },
                {
                    "name": "eventService",
                    "providing": "ct.framework.api.EventService"
                },
                {
                    "name": "identifyLookupTable",
                    "providing": "gipod.IdentifyGeometryLookupTable"
                }
            ]
        },

        {
            "name": "IdentifyGeometryLookupTable",
            "provides": ["gipod.IdentifyGeometryLookupTable"],
            "impl": "ct/Stateful",
            "propertiesConstructor": true,
            "properties": {
                "lookupTable": {
                    "polygon-manifestation": {
                        "type": "esriSFS",
                        "color": [
                            0,
                            0,
                            255,
                            100
                        ],
                        "outline": {
                            "color": [
                                0,
                                0,
                                255,
                                255
                            ],
                            "style": "esriSLSSolid",
                            "type": "esriSLS",
                            "width": 2
                        },
                        "style": "esriSFSSolid",
                        "xoffset": 0,
                        "yoffset": 0
                    },
                    "polygon-manifestation-severe": {
                        "type": "esriSFS",
                        "color": [
                            0,
                            0,
                            255,
                            100
                        ],
                        "outline": {
                            "color": [
                                0,
                                0,
                                255,
                                255
                            ],
                            "style": "esriSLSSolid",
                            "type": "esriSLS",
                            "width": 2
                        },
                        "style": "esriSFSSolid",
                        "xoffset": 0,
                        "yoffset": 0
                    },
                    "polygon-manifestation-eventtype": {
                        "type": "esriSFS",
                        "color": [
                            0,
                            0,
                            255,
                            100
                        ],
                        "outline": {
                            "color": [
                                0,
                                0,
                                255,
                                255
                            ],
                            "style": "esriSLSSolid",
                            "type": "esriSLS",
                            "width": 2
                        },
                        "style": "esriSFSSolid",
                        "xoffset": 0,
                        "yoffset": 0
                    },
                    "polygon-workassignment": {
                        "type": "esriSFS",
                        "color": [
                            251,
                            230,
                            55,
                            100
                        ],
                        "outline": {
                            "color": [
                                251,
                                230,
                                55,
                                255
                            ],
                            "style": "esriSLSSolid",
                            "type": "esriSLS",
                            "width": 2
                        },
                        "style": "esriSFSSolid",
                        "xoffset": 0,
                        "yoffset": 0
                    },
                    "polygon-workassignment-severe": {
                        "type": "esriSFS",
                        "color": [
                            255,
                            0,
                            0,
                            100
                        ],
                        "outline": {
                            "color": [
                                255,
                                0,
                                0,
                                255
                            ],
                            "style": "esriSLSSolid",
                            "type": "esriSLS",
                            "width": 2
                        },
                        "style": "esriSFSSolid",
                        "xoffset": 0,
                        "yoffset": 0
                    },
                    "polygon-diversion": {
                        "color": [
                            0,
                            216,
                            55,
                            0
                        ],
                        "type": "esriSFS",
                        "style": "esriSFSSolid",
                        "outline": {
                            "color": [
                                0,
                                216,
                                55,
                                255
                            ],
                            "width": 3,
                            "type": "esriSLS",
                            "style": "esriSLSSolid"
                        }
                    },
                    "polyline-diversion": {
                        "color": [
                            0,
                            216,
                            55,
                            0
                        ],
                        "type": "esriSFS",
                        "style": "esriSFSSolid",
                        "width": 3,
                        "outline": {
                            "color": [
                                0,
                                216,
                                55,
                                255
                            ],
                            "width": 3,
                            "type": "esriSLS",
                            "style": "esriSLSSolid"
                        }
                    }
                }
            }
        },

        {
            "name": "GipodFocusHandler",
            "propertiesConstructor": true,
            "references": [
                {
                    "name": "mapstate",
                    "providing": "ct.mapping.map.MapState"
                },
                {
                    "name": "contentviewer",
                    "providing": "ct.contentviewer.ContentViewer",
                    "connect": {
                        "closeContentInfo": "closeContentInfo"
                    }
                }
            ]
        },

        {
            "name": "GipodDockTool",
            "impl": "ct/tools/Tool",
            "provides": ["ct.tools.Tool"],
            "propertiesConstructor": true,
            "properties": {
                "toolRole": "toolset",
                "id": "gipodParameterControlsTool",
                "iconClass": "icon-hinderen",
                "title": "${ui.docktool.title}",
                "tooltip": "${ui.docktool.tooltip}",
                "togglable": true,
                "rules": {
                    "groups": "dockTools"
                }
            }
        },

        {
            "name": "GipodScaleChangeHandler",
            "provides": [
                "agiv.gipod.GipodScaleChangeHandler"
            ],
            "propertiesConstructor": true,
            "properties": {
                "geometryZoomScale": 18056,
                "lookupTable": {
                    "polygon-manifestation": {
                        "type": "esriSFS",
                        "color": [
                            0,
                            0,
                            255,
                            100
                        ],
                        "outline": {
                            "color": [
                                0,
                                0,
                                255,
                                255
                            ],
                            "style": "esriSLSSolid",
                            "type": "esriSLS",
                            "width": 2
                        },
                        "style": "esriSFSSolid",
                        "xoffset": 0,
                        "yoffset": 0
                    },
                    "polygon-manifestation-eventtype": {
                        "type": "esriSFS",
                        "color": [
                            0,
                            0,
                            255,
                            100
                        ],
                        "outline": {
                            "color": [
                                0,
                                0,
                                255,
                                255
                            ],
                            "style": "esriSLSSolid",
                            "type": "esriSLS",
                            "width": 2
                        },
                        "style": "esriSFSSolid",
                        "xoffset": 0,
                        "yoffset": 0,
                        "url": "http://gipod.api.agiv.be/ws/v1/icon/manifestation?size=32"
                    },
                    "polygon-workassignment": {
                        "type": "esriSFS",
                        "color": [
                            251,
                            230,
                            55,
                            100
                        ],
                        "outline": {
                            "color": [
                                251,
                                230,
                                55,
                                255
                            ],
                            "style": "esriSLSSolid",
                            "type": "esriSLS",
                            "width": 2
                        },
                        "style": "esriSFSSolid",
                        "xoffset": 0,
                        "yoffset": 0,
                        "url": "http://gipod.api.agiv.be/ws/v1/icon/workassignment?important=false&size=32"
                    },
                    "polygon-workassignment-severe": {
                        "type": "esriSFS",
                        "color": [
                            255,
                            0,
                            0,
                            100
                        ],
                        "outline": {
                            "color": [
                                255,
                                0,
                                0,
                                255
                            ],
                            "style": "esriSLSSolid",
                            "type": "esriSLS",
                            "width": 2
                        },
                        "style": "esriSFSSolid",
                        "xoffset": 0,
                        "yoffset": 0,
                        "url": "http://gipod.api.agiv.be/ws/v1/icon/workassignment?important=true&size=32"
                    }
                }
            },
            "references": [
                {
                    "name": "mapState",
                    "providing": "ct.mapping.map.MapState"
                },
                {
                    "name": "mapModel",
                    "providing": "ct.mapping.map.MapModel"
                },
                {
                    "name": "workassignmentStore",
                    "providing": "gipod.GipodStore.workassignment",
                    "cardinality": "0..1",
                    "policy": "dynamic"
                },
                {
                    "name": "manifestationStore",
                    "providing": "gipod.GipodStore.manifestation",
                    "cardinality": "0..1",
                    "policy": "dynamic"
                },
                {
                    "name": "_gipodController",
                    "providing": "gipod.GipodParameterController"
                }
            ]
        },

        {
            "name": "HIKPrintDialog",
            "impl": "jasperprinting/PrintDialog",
            "provides": [
                "ct.framework.api.EventHandler",
                "dijit.Widget"
            ],
            "propertiesConstructor": true,
            "instanceFactory": true,
            "properties": {
                "widgetRole": "hikPrintDialog",
                "Event-Topics": [
                    {
                        "topic": "agiv/hik/UPDATE_DIALOG",
                        "method": "_initWidget"
                    }
                ],
                "binding": {
                    "print": {
                        "template": {
//                            "s_hik_landscape_A4": false,
                            "s_hik_portrait_A4": true
                        },
                        "identificatie": true,
                        "map": {
                            "title": "{currentApp}.title",
                            "description": ""
                        },
                        "splitviewmap": {
                            "title": "",
                            "description": ""
                        },
                        "type": {
                            "pdf": true,
                            "png": false,
                            "jpeg": false,
                            "docx": false,
                            "pptx": false
                        }
                    }
                },
                "structure_top": {
                    "type": "tablepanel",
                    "showLabels": false,
                    "cols": 1,
                    "children": [

                    ]
                },
                "structure_bottom_left": {
                    "type": "tablepanel",
                    "showLabels": true,
                    "cssClass": "paperOrientation reversedOrder",
                    "cols": 1,
                    "children": [
//                        {
//                            "type": "radiobutton",
//                            "groupId": "template",
//                            "label": "${ui.portrait}",
//                            "cssClass": "label-staand",
//                            "field": "print.template.s_hik_portrait_A4"
//                        }
//                        {
//                            "type": "radiobutton",
//                            "groupId": "template",
//                            "label": "${ui.landscape}",
//                            "cssClass": "label-liggend",
//                            "field": "print.template.s_hik_landscape_A4"
//                        }
                    ]
                },
                "structure_bottom_right": {
                    "type": "tablepanel",
                    "showLabels": true,
                    "cssClass": "reversedOrder",
                    "cols": 1,
                    "children": [
                        {
                            "type": "radiobutton",
                            "groupId": "type",
                            "label": "PDF",
                            "field": "print.type.pdf"
                        },
                        {
                            "type": "radiobutton",
                            "groupId": "type",
                            "label": "PNG",
                            "field": "print.type.png"
                        }
                    ]
                }
            },
            "references": [
                {
                    "name": "_dataformService",
                    "providing": "dataform.DataFormService"
                },
                {
                    "name": "printController",
                    "providing": "gipod.PrintingController"
                },
                {
                    "name": "printDataProvider",
                    "providing": "jasperprinting.api.HIKPrintDataProvider",
                    "cardinality": "0..n",
                    "policy": "dynamic"
                },
                {
                    "name": "mapPrintDataProvider",
                    "providing": "jasperprinting.api.MapPrintDataProvider",
                    "cardinality": "1..n",
                    "policy": "dynamic"
                },
                {
                    "name": "_appCtx",
                    "providing": "ct.framework.api.ApplicationContext"
                }
            ]
        },

        {
            "name": "PrintingController",
            "impl": "jasperprinting/PrintingController",
            "provides": ["gipod.PrintingController"],
            "propertiesConstructor": true,
            "properties": {
                "mapDataProvidersInUse": [
                    "mainMapDataProvider",
                    "splitViewMapDataProvider"
                ],
                "url": "@@agiv.services.baseurl@@/resources/printing/",
                "templates": {
                    "s_basic_landscape_A4": {
                        "mapsize": {
                            "w": 802,
                            "h": 450
                        }
                    },
                    "s_basic_portrait_A4": {
                        "mapsize": {
                            //TEST
//                            "w": 555,
//                            "h": 675
                            //multiply actual size time 1.5 to get a more or less correc timage
                            //Jasper can only do 72dpi
//                            "w": 833,
//                            "h": 1013
                            //fac 2.03
                            "w": 555,
                            "h": 550
                        }
                    },
                    "s_hik_landscape_A4": {
                        "mapsize": {
                            "w": 802,
                            "h": 300
                        }
                    },
                    "s_hik_portrait_A4": {
                        "mapsize": {
                            "w": 555,
                            "h": 300
                        }
                    }
                }
            },
            "references": [
                {
                    "name": "printDataProvider",
                    "providing": "jasperprinting.api.HIKPrintDataProvider",
                    "cardinality": "0..n",
                    "policy": "dynamic"
                },
                {
                    "name": "mapPrintDataProvider",
                    "providing": "jasperprinting.api.MapPrintDataProvider",
                    "cardinality": "0..n",
                    "policy": "dynamic"
                },
                {
                    "name": "mandatoryPrintDataProvider",
                    "providing": "jasperprinting.api.MandatoryPrintDataProvider",
                    "cardinality": "0..n",
                    "policy": "dynamic"
                },
                {
                    "name": "logger",
                    "providing": "ct.framework.api.LogService"
                },
                {
                    "name": "_eventService",
                    "providing": "ct.framework.api.EventService"
                }

            ]
        },

        {
            "name": "HIKPrintTool",
            "impl": "ct/tools/Tool",
            "provides": ["ct.tools.Tool"],
            "propertiesConstructor": true,
            "properties": {
                "id": "hikPrintTool",
                "toolRole": "toolset",
                "title": "Afdrukken",
                "tooltip": "Afdrukken",
                "iconClass": "icon-printer",
                "togglable": true,
                "rules": {
                    "groups": ["none"],
                    "printDialog": "hik",
                    "ruleSuccessProperty": "visibility"
                }
            }
        },
        {
            "name": "IdentificatiePrinter",
            "provides": [
                "ct.framework.api.EventHandler",
                "jasperprinting.api.HIKPrintDataProvider"
            ],
            "propertiesConstructor": true,
            "properties": {
                "ignoreFeatures": false,
                "Event-Topics": [
                    {
                        "topic": "agiv/identificatie/UPDATE_PRINT_INFO",
                        "method": "_updatePrintInfo"
                    }
                ]
            },
            "references": [
                {
                    "name": "_widget",
                    "providing": "gipod.IdentificatieWidget",
                    "cardinality": "0..1"
                },
                {
                    "name": "_eventService",
                    "providing": "ct.framework.api.EventService"
                },
                {
                    "name": "coordinateTransformer",
                    "providing": "ct.api.coordinatetransformer.CoordinateTransformer"
                }
            ]
        },
        {
            "name": "DiversionsPrinter",
            "provides": [
                "ct.framework.api.EventHandler",
                "jasperprinting.api.HIKPrintDataProvider"
            ],
            "propertiesConstructor": true,
            "properties": {
                "ignoreFeatures": false,
                "Event-Topics": [
                    {
                        "topic": "agiv/diversions/UPDATE_PRINT_INFO",
                        "method": "_updatePrintInfo"
                    }
                ]
            },
            "references": [
                {
                    "name": "_widgets",
                    "providing": "gipod.DiversionsWidget",
                    "cardinality": "0..n"
                },
                {
                    "name": "_eventService",
                    "providing": "ct.framework.api.EventService"
                },
                {
                    "name": "coordinateTransformer",
                    "providing": "ct.api.coordinatetransformer.CoordinateTransformer"
                },
                {
                    "name": "identifyLookupTable",
                    "providing": "gipod.IdentifyGeometryLookupTable"
                }
            ]
        },
        {
            "name": "ContactPrinter",
            "provides": [
                "ct.framework.api.EventHandler",
                "jasperprinting.api.HIKPrintDataProvider"
            ],
            "propertiesConstructor": true,
            "properties": {
                "Event-Topics": [
                    {
                        "topic": "agiv/contact/UPDATE_PRINT_INFO",
                        "method": "_updatePrintInfo"
                    }
                ]
            },
            "references": [
                {
                    "name": "_contactWidget",
                    "providing": "gipod.ContactWidget",
                    "cardinality": "0..1"
                },
                {
                    "name": "_eventService",
                    "providing": "ct.framework.api.EventService"
                }
            ]
        },
        {
            "name": "CalendarPrinter",
            "provides": [
                "ct.framework.api.EventHandler",
                "jasperprinting.api.HIKPrintDataProvider"
            ],
            "propertiesConstructor": true,
            "properties": {
                "Event-Topics": [
                    {
                        "topic": "agiv/calendar/UPDATE_PRINT_INFO",
                        "method": "_updatePrintInfo"
                    }
                ]
            },
            "references": [
                {
                    "name": "_calendarWidget",
                    "providing": "gipod.CalendarWidget",
                    "cardinality": "0..1"
                },
                {
                    "name": "_eventService",
                    "providing": "ct.framework.api.EventService"
                }
            ]
        }
    ]
}