<html>
    <head>
        <title>LayerListWidget Test Page</title>
        <link rel="stylesheet" type="text/css" href="../../sample_themes/auskunfttheme/auskunfttheme.css"/>
        <script type="text/javascript">
            var dojoConfig = {
                parseOnLoad: true,
                async: true,
                isDebug: true,
                baseUrl: "../../",
                tlmSiblingOfDojo: false,
                packages: [
                    {name: "dojo", location: "http://localhost:8080/ct-mapapps-webapp-3.1.2/resources/jsregistry/root/dojo/1.10"},
                    {name: "dijit", location: "http://localhost:8080/ct-mapapps-webapp-3.1.2/resources/jsregistry/root/dijit/1.10"},
                    {name: "ct", location: "http://localhost:8080/ct-mapapps-webapp-3.1.2/resources/jsregistry/root/ct/3.1.2"},
                    {name: "layerlist", location: "layerlist"}
                ]
            };
        </script>
        <script type="text/javascript" src="http://localhost:8080/ct-mapapps-webapp-3.1.2/resources/jsregistry/root/dojo/1.10.0/dojo.js"></script>
        <script type="text/javascript">
            require([
                "dojo/ready", "ct/Stateful", "layerlist/LayerListWidget"
            ], function (ready, Stateful, LayerListWidget) {
                var nodes = [
                    new Stateful({
                        id: 1,
                        title: "Layer1",
                        enabled: true
                    }),
                    new Stateful({
                        id: 2,
                        title: "Layer2",
                        enabled: false
                    }),
                    new Stateful({
                        id: 3,
                        title: "De derde laag",
                        enabled: true
                    })
                ];
                ready(function () {
                    //new LayerListWidget({ nodes: nodes }, "listwidget");
                    var layerListWidget = new LayerListWidget({nodes: nodes}, "listwidget");
                    layerListWidget.on("layerUpdated", function (event) {
                        alert("Layer '" + event.node.title + "' clicked");
                    });

                    setTimeout(function () {
                        nodes[0].set("enabled", false);
                        nodes[1].set("enabled", true);
                        nodes[2].set("enabled", false);
                    }, 2000);
                });
            });
        </script>
    </head>
    <body class="auskunfttheme">
        <div id="listwidget"></div>
    </body>
</html>